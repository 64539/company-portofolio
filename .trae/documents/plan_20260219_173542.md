I will refactor the Admin Panel's layout to implement a robust fixed-height structure with independent scrolling and a sticky action bar, as requested.

**Plan:**

1. **Main Layout Refactoring (`AdminModal.tsx`):**

   * **Body Container**: Apply `h-[calc(90vh-80px)]` and `overflow-hidden` to the main content wrapper below the header. This ensures the modal body fits perfectly within the viewport.

   * **Right Pane (Detail/Reply)**:

     * Update structure to `flex flex-col h-full` to manage vertical space distribution.

     * **Header**: Keep sticky at the top.

     * **Content Area**: Wrap the Message Detail, Reply Input, and Preview in a `div` with `flex-1 overflow-y-auto pb-20`. This allows the content to scroll while the footer remains fixed.

     * **Action Bar**: Move the "Send Reply" and "Edit Reply" buttons into a new container at the bottom with `flex-none sticky bottom-0 bg-[#050505] border-t border-white/10 z-50`. This ensures the actions are always visible.

   * **Email Preview**: Add `min-h-[200px]` to the preview box to maintain a comfortable reading size.

2. **CSS & Z-Index Adjustments:**

   * Ensure the sticky footer has a higher z-index (`z-50`) so it sits above the scrolling content.

   * Verify `flex-shrink-0` on headers and footers to prevent them from collapsing.

3. **Verification:**

   * The implementation will be checked to ensure no double scrollbars appear and that the layout remains responsive on different screen sizes.

<br />

**Trae, pastikan** **`onClose`** **hanya aktif saat tombol 'X' ditekan, jangan biarkan klik pada area luar modal menutup jendela secara otomatis agar admin tidak kehilangan draf balasan yang sedang diketik.**

**Mobile Keyboard Awareness:**Â Gunakan class `max-h-[85vh]` atau `h-screen` (bersifat dinamis) pada mobile agar saat keyboard virtual muncul, modal tetap bisa di-scroll dan tombol 'Send' tidak tersembunyi di bawah keyboard.

**Tambahkan transisi halus (`Framer Motion`** **atau** **`transition-all duration-300`) saat berpindah dari tampilan list pesan ke tampilan balasan (reply mode), agar perubahan layout terasa organik**

